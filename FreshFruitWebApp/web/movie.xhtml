<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE html
   PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
   "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <meta content="" />
    <title>
      #{movieui.movie.title}
    </title>
    <meta name="description" content="Created by Team 11 CS2340 Summer 2015" />
    <meta name="viewport" content="width=1000, initial-scale=1.0, maximum-scale=1.0" />
    <!--  Loading Bootstrap -->
    <link href="dist/css/vendor/bootstrap.min.css" rel="stylesheet" />
    <!--  Loading Flat UI -->
    <link href="dist/css/flat-ui.css" rel="stylesheet" />
    <link href="docs/assets/css/demo.css" rel="stylesheet" />
    <link rel="shortcut icon" href="/img/tomato.ico" />
  </h:head>
    <h:body>
        <h:form>
            <div class="row demo-row">
        <div class="col-xs-12">
          <nav class="navbar navbar-inverse navbar-embossed" role="navigation">
            <div class="navbar-header">
              <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#navbar-collapse-01">
                <span class="sr-only">Toggle navigation</span>
              </button>
              <a class="navbar-brand" href="#">Fresh Fruit</a>
            </div>
            <div class="collapse navbar-collapse" id="navbar-collapse-01">
              <ul class="nav navbar-nav navbar-left">

                <li><p:commandButton action="#{profileui.profile()}" class="btn btn-block btn-lg btn-info" value="My Profile"/></li>
                <li><p:commandButton action="#{profileui.cancelHome()}" class="btn btn-block btn-lg btn-info" value="Home"/></li>
                <li><p:commandButton action="#{profileui.logout()}" class="btn btn-block btn-lg btn-info" value="Logout"/></li>
               </ul>
            </div><!-- /.navbar-collapse -->
          </nav><!-- /navbar -->
        </div>
            </div><center>
                        <br></br>
                        <img src="#{movieui.movie.imagePath}"></img>
                        <br></br>
                        <br></br>
                        <br></br>
                        <div align="center">
                        Release Date: #{movieui.movie.releaseDate}
                        <br></br>
                        <div class="col-md-3"></div>
                        <div class="col-md-6">
                        Synopsis: #{movieui.movie.synopsis}
                        </div>
                        <br></br>
                        <br></br>
                        <br></br>
                        <br></br>
                        <br></br>
                        <br></br>
                        </div>
                        <br></br>
                        Rate this movie
                        <br></br>
                        <h:commandLink action="#{movieui.setRating(1)}">
                            <p:graphicImage value="#{movieui.starImage(1)}" width="15" height="15"/>
                        </h:commandLink>
                        <h:commandLink action="#{movieui.setRating(2)}">
                            <p:graphicImage value="#{movieui.starImage(2)}" width="15" height="15"/>
                        </h:commandLink>
                        <h:commandLink action="#{movieui.setRating(3)}">
                            <p:graphicImage value="#{movieui.starImage(3)}" width="15" height="15"/>
                        </h:commandLink>
                        <h:commandLink action="#{movieui.setRating(4)}">
                            <p:graphicImage value="#{movieui.starImage(4)}" width="15" height="15"/>
                        </h:commandLink>
                        <h:commandLink action="#{movieui.setRating(5)}">
                            <p:graphicImage value="#{movieui.starImage(5)}" width="15" height="15"/>
                        </h:commandLink>
                        <br></br>
                        <p:inputTextarea rows="5" id="reviewText" value="#{movieui.reviewText}"/>
                        <br></br>
                        <div class="col-xs-3"></div>
                        <div class="col-xs-3">
                            <div class="form-group">
                        <p:commandButton value="Submit Rating" action="#{movieui.rate()}"
                                         class="btn btn-block btn-lg btn-danger"/>
                        </div>
                        </div>
                        <div class="col-xs-3">
                            <div class="form-group">
                        <p:commandButton value="Back" action="#{profileui.cancelHome()}"
                                         class="btn btn-block btn-lg btn-danger"/>
                        </div>
                        </div>
                        <br></br>
                        <br></br>
                        <br></br>
                        Reviews:
                        <br></br>
                        <h:dataTable var="review" value="#{movieui.movie.reviews}">
                            <h:column>
                                <p:graphicImage value="#{review.starImage(1)}" width="15" height="15"/>
                                <p:graphicImage value="#{review.starImage(2)}" width="15" height="15"/>
                                <p:graphicImage value="#{review.starImage(3)}" width="15" height="15"/>
                                <p:graphicImage value="#{review.starImage(4)}" width="15" height="15"/>
                                <p:graphicImage value="#{review.starImage(5)}" width="15" height="15"/>
                                <br></br>
                                <h:outputText value="#{review.textReview}"/>
                                <br></br>
                                Reviewed by <h:outputText value="#{review.reviewer.username}"/> (<h:outputText value="#{review.reviewer.major.fullName}"/>)
                                <br></br>
                                <br></br>
                            </h:column>
                        </h:dataTable>
            </center>
        </h:form>
    </h:body>
</html>

